$(document).on('turbolinks:load', function() {
  jQuery(function() {
    var loaded_model, models;
    loaded_model = $('#search_fight_id :selected').text();
    if (loaded_model.length < 1) {
      $('#search_fight_id').parent().hide();
    }
    models = $('#search_fight_id').html();
    $('#search_level_id').change(function() {
      var escaped_make, make, options;
      make = $('#search_level_id :selected').text();
      escaped_make = make.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g, '\\$1');
      options = $(models).filter("optgroup[label='" + escaped_make + "']").html();
      if (options) {
        $('#search_fight_id').html(options);
        return $('#search_fight_id').parent().show();
      } else {
        $('#search_fight_id').empty();
        return $('#search_fight_id').parent().hide();
      }
    });
    return $("#search_level_id").trigger("change");
  });
});
// ---
// generated by coffee-script 1.9.2